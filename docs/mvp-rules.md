# Правила валидации MVP

## 1. Валидация цен

### "Разумные" пределы (Hard Limits)
Чтобы отсечь явный мусор/опечатки (лишние нули).
*   **Минимальная цена:** > 0.
*   **Максимальная цена:** Зависит от категории (нужен конфиг лимитов, но для старта: < 100 000 000 UZS).

### Аномалии (Soft Limits)
Если цена отличается от медианы за последние 7 дней более чем на **X%** (например, 50% или 3 сигмы), помечать как `isSuspicious = true`.
*   Пользователь видит предупреждение: "Цена сильно отличается от обычной. Вы уверены?"

## 2. Антиспам (Rate Limiting)

*   Один пользователь может добавить не более **5 записей в минуту**.
*   Нельзя добавлять дубликат (тот же товар, то же место, та же цена, та же дата) чаще чем раз в час.

## 3. Добавление мест (Places)

*   Пользователь может создать новое место (Place), если не нашел в списке.
*   Новое место создается со статусом `isVerified: false`.
*   В поиске такие места отображаются ниже проверенных.

## 4. Категории и Товары

*   В MVP пользователи **НЕ могут** создавать глобальные товары или категории.
*   Если товара нет, пользователь может отправить заявку ("Предложить товар").

## 5. Доступ (Permissions)

*   **Гость:**
    *   Просмотр списка товаров.
    *   Просмотр графиков (агрегированных).
    *   Поиск.
*   **Пользователь (Auth):**
    *   Все права Гостя.
    *   Добавление `PriceReport`.
    *   Добавление `Place`.
    *   Просмотр "Мои цены".
*   **Модератор:**
    *   Все права Пользователя.
    *   Редактирование/Блокировка `PriceReport`.
    *   Верификация `Place`.
    *   Управление жалобами.
